{
    "model": {
        "modelname": {
            "type": "str",
            "default": "LES",
            "avail": ["LES", "linear", "advection"],
            "doc": "Type of the model: (1) LES (Large Eddy Simulation): full 3D incompressible Navier-Stokes equations (2) linear: 3D incompressible Navier-Stokes equations linearized around a stationary mean state, i.e., without the vortex-force and kinetic-energy terms, which are quadratic in velocity (3) advection: 3D advection equations applied on a passive tracer in a steady flow"
        },
        "geometry": {
            "type": "str",
            "default": "closed",
            "avail": ["closed", "perio_x"],
            "doc": "Geometry of the domain"
        },
        "Lx": {
            "type": "float",
            "default": 1.0,
            "avail": "> 0.0",
            "doc": "Length of the domain along x (x-axis goes from 0 to Lx)"
        },
        "Ly": {
            "type": "float",
            "default": 1.0,
            "avail": "> 0.0",
            "doc": "Length of the domain along y (y-axis goes from 0 to Ly)"
        },
        "Lz": {
            "type": "float",
            "default": 1.0,
            "avail": "> 0.0",
            "doc": "Length of the domain along z (z-axis goes from 0 to Lz)"
        },
        "n_tracers": {
            "type": "int",
            "default": 0,
            "avail": ">= 0",
            "doc": "Number of passive tracers to be advected with the flow; tracers are automatically added to the history file"
        }
    },

    "physics": {
        "unit_length": {
            "type": "str",
            "default": "m",
            "avail": "any",
            "doc": "Physical unit for lengths (extents in space) used in the model"
        },
        "unit_duration": {
            "type": "str",
            "default": "s",
            "avail": "any",
            "doc": "Physical unit for durations (amounts of time) used in the model"
        },
        "rotating": {
            "type": "bool",
            "default": false,
            "avail": [true, false],
            "doc": "Whether Coriolis force is present or not"
        },
        "coriolis": {
            "type": "float",
            "default": 1.0,
            "avail": "any",
            "doc": "Coriolis parameter in the vertical direction (in s^-1)"
        }
    },

    "IO": {
        "datadir": {
            "type": "str",
            "default": "~/data/Nyles",
            "avail": "any valid path (existent or not) with write access",
            "doc": "Folder in which the output files of the simulation are stored"
        },
        "expname": {
            "type": "str",
            "default": "experiment",
            "avail": "any valid filename",
            "doc": "Name of the experiment; used in the name of the output directory and output files"
        },
        "mode": {
            "type": "str",
            "default": "overwrite",
            "avail": ["overwrite", "count", "continue"],
            "doc": "Handling of existing output files with the same name"
        },
        "variables_in_history": {
            "type": "list or string",
            "default": "all",
            "avail": "a list of model variables or the string \"all\"",
            "doc": "Names of the 3D variables of the model to save in the history file or the string \"all\" to save all model variables"
        },
        "timestep_history": {
            "type": "float",
            "default": 1.0,
            "avail": ">= 0.0",
            "doc": "Desired timestep for saving the model state in the history file; use 0.0 to save every iteration step of the model"
        },
        "disk_space_warning": {
            "type": "float",
            "default": 0.5,
            "avail": ">= 0.0",
            "doc": "Minimal amount of free disk space in GB; if the available space in the output directory (datadir) drops below this value, the simulation is paused and the user is asked whether they want to continue or stop the experiment; the user is only asked once per run; set this parameter to zero to disable checks"
        }
    },

    "animation": {
        "show": {
            "type": "bool",
            "default": false,
            "avail": [true, false],
            "doc": "Whether to display an animated 3D figure of the simulation or not (faster)"
        },
        "style": {
            "type": "str",
            "default": "b-interface",
            "avail": ["b-interface", "tracer"],
            "doc": "Type of the animation: (1) b-interface: plot the interface of the central value of initial buoyancy (2) tracer: plot the position of all tracers in a scatter plot; tracers should be initialized with 1; the scatter plot shows where the value is bigger than 0.5"
        },
        "stable_stratification": {
            "type": "bool",
            "default": false,
            "avail": [true, false],
            "doc": "When the animation style is b-interface, it is necessary to say if the initial stratification is stable or unstable"
        },
        "aspect": {
            "type": "str",
            "default": "equal",
            "avail": ["equal", "auto"],
            "doc": "Aspect ratio of the figure"
        },
        "rotation_speed": {
            "type": "int",
            "default": 3,
            "avail": ">= 0",
            "doc": "Speed of the camera to rotate around the 3D scene in degrees per redraw"
        }
    },

    "time": {
        "tend": {
            "type": "float",
            "default": 10.0,
            "avail": "> 0.0",
            "doc": "Length of the simulation"
        },
        "timestepping": {
            "type": "str",
            "default": "LFAM3",
            "avail": ["LFAM3", "EF"],
            "doc": "Time scheme used to integrate the model in time; EF: Euler forward; LFAM3: a predictor-corrector method"
        },
        "auto_dt": {
            "type": "bool",
            "default": true,
            "avail": [true, false],
            "doc": "Choice between automatic (True) or fixed (False) timestep dt"
        },
        "dt": {
            "type": "float",
            "default": 0.1,
            "avail": "> 0.0",
            "doc": "In the case of a fixed timestep, this is the timestep"
        },
        "cfl": {
            "type": "float",
            "default": 1.0,
            "avail": "> 0.0",
            "doc": "In the case of an automatic timestep, this is the coefficient that sets the timestep; it is usually on the order of 1.0; reduce it to have a more stable integration in time, increase it to have a faster but coarser integration in time"
        },
        "dt_max": {
            "type": "float",
            "default": 1.0,
            "avail": "> 0.0",
            "doc": "In the case of an automatic timestep, this is the maximal timestep (and the inital timestep if the initial velocity is zero); this parameter is important in situations where the dominant velocity is not the local velocity of the fluid parcels, e.g., in experiments with waves"
        }
    },

    "discretization": {
        "global_nx": {
            "type": "int",
            "default": 64,
            "avail": "2^n",
            "doc": "Number of gridpoints for the full domain in x-direction; must be a power of 2"
        },
        "global_ny": {
            "type": "int",
            "default": 64,
            "avail": "2^n",
            "doc": "Number of gridpoints for the full domain in y-direction; must be a power of 2"
        },
        "global_nz": {
            "type": "int",
            "default": 64,
            "avail": "2^n",
            "doc": "Number of gridpoints for the full domain in z-direction; must be a power of 2"
        },
        "orderVF": {
            "type": "int",
            "default": 5,
            "avail": [1, 3, 5],
            "doc": "Order of the upwind scheme used for the computation of the vortex-force term"
        },
        "orderA": {
            "type": "int",
            "default": 5,
            "avail": [1, 3, 5],
            "doc": "Order of the upwind scheme used for the computation of the advection term"
        }
    },

    "MPI": {
        "npx": {
            "type": "int",
            "default": 1,
            "avail": "2^n",
            "doc": "Number of subdomains (cores) in x; must be a power of 2 and cannot be larger than global_nx"
        },
        "npy": {
            "type": "int",
            "default": 1,
            "avail": "2^n",
            "doc": "Number of subdomains (cores) in y; must be a power of 2 and cannot be larger than global_ny"
        },
        "npz": {
            "type": "int",
            "default": 1,
            "avail": "2^n",
            "doc": "Number of subdomains (cores) in z; must be a power of 2 and cannot be larger than global_nz"
        },
        "nh": {
            "type": "int",
            "default": 3,
            "avail": ">= 0",
            "doc": "Number of ghost points in the halo"
        }
    }
}
